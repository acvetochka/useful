# Конспект по регулярним виразам (regex) у Python

Регулярні вирази (regex) — це потужний інструмент для пошуку і маніпуляції з текстом. У Python їх можна використовувати за допомогою модуля re. Вони дозволяють виконувати пошук за шаблоном у рядках.

## Основні функції модуля re:
- re.search(pattern, string)

Шукає перше входження шаблону в рядку і повертає об'єкт матчу або None, якщо збіг не знайдено.

```python
import re
result = re.search(r'\d+', 'Hello 123 World')  # Шукає перше число
print(result.group())  # Виведе: 123
```

- re.match(pattern, string)

Перевіряє, чи починається рядок із зазначеного шаблону.

```python
result = re.match(r'Hello', 'Hello World')  # Повертає збіг, якщо рядок починається з 'Hello'
```

- re.findall(pattern, string)

Повертає список усіх входжень шаблону в рядку.

```python
result = re.findall(r'\d+', 'Hello 123 and 456')  # Шукає всі числа
print(result)  # Виведе: ['123', '456']
```

- re.sub(pattern, replacement, string)

Замінює всі входження шаблону на інший рядок.

```python
result = re.sub(r'\d+', 'NUMBER', 'Order 123 and 456')  # Замінює всі числа
print(result)  # Виведе: Order NUMBER and NUMBER
```

- re.split(pattern, string)

Розбиває рядок за шаблоном.

```python
result = re.split(r'\s+', 'Hello   World')  # Розбиває рядок за пробілами
print(result)  # Виведе: ['Hello', 'World']
```

## Спеціальні символи в регулярних виразах:
`.` — будь-який символ, окрім символу нового рядка.

```python
re.search(r'H.llo', 'Hello')  # Поверне збіг
```

`^` — початок рядка.

```python
re.search(r'^Hello', 'Hello World')  # Поверне збіг
```

`$` — кінець рядка.

```python
re.search(r'World$', 'Hello World')  # Поверне збіг
```

`\d` — будь-яка цифра.

```python
re.findall(r'\d+', '123 apples')  # Знайде: ['123']
```

`\w` — будь-який буквений символ або цифра (алфавіт + цифри).

```python
re.findall(r'\w+', 'Hello 123!')  # Знайде: ['Hello', '123']
```

`\s` — будь-який пробільний символ (пробіл, табуляція, новий рядок).

```python
re.split(r'\s+', 'Hello   World')  # Розіб'є на ['Hello', 'World']
```

## Квантифікатори:
Квантифікатори в регулярних виразах (regex) визначають, скільки разів певний елемент (символ або група символів) має зустрічатися в рядку, щоб вважатися збігом. Давайте розберемо кожен квантифікатор докладніше з прикладами, щоб було зрозуміло, як вони працюють.

`*` — 0 або більше повторень

Цей квантифікатор вказує, що символ може зустрічатися будь-яку кількість разів, включаючи 0 разів.

Приклад:
```python
import re

# Шукає 'ab', після якого йде будь-яка кількість символів 'c' (0 або більше)
result = re.search(r'abc*', 'ab')
print(result.group())  # Виведе: 'ab', бо 'c' може бути 0 разів

result = re.search(r'abc*', 'abcc')
print(result.group())  # Виведе: 'abcc', бо 'c' зустрічається 2 рази
```

abc* означає, що після ab може йти 0 або більше символів c. У першому випадку збігається просто ab, а в другому — abcc.

`+` — 1 або більше повторень

Цей квантифікатор вимагає, щоб символ зустрічався принаймні один раз, але може бути і більше.

Приклад:
```python
import re

# Шукає 'ab', після якого йде хоча б один символ 'c'
result = re.search(r'abc+', 'ab')
print(result)  # Виведе: None, бо 'c' не зустрічається

result = re.search(r'abc+', 'abc')
print(result.group())  # Виведе: 'abc', бо 'c' зустрічається 1 раз

result = re.search(r'abc+', 'abcccc')
print(result.group())  # Виведе: 'abcccc', бо 'c' зустрічається більше 1 раз
```

abc+ означає, що після ab повинен бути хоча б один символ c.

`?` — 0 або 1 повторення

Цей квантифікатор означає, що символ може зустрічатися або один раз, або взагалі не зустрічатися.

Приклад:
```python
import re

# Шукає 'ab', після якого може бути або 1, або 0 символів 'c'
result = re.search(r'abc?', 'ab')
print(result.group())  # Виведе: 'ab', бо 'c' може бути 0 разів

result = re.search(r'abc?', 'abc')
print(result.group())  # Виведе: 'abc', бо 'c' зустрічається 1 раз
```

abc? означає, що після ab може бути 0 або 1 символ c.

`{n}` — рівно n повторень

Цей квантифікатор задає точну кількість повторень символу.

Приклад:
```python
import re

# Шукає рівно три символи 'a'
result = re.search(r'a{3}', 'aa')
print(result)  # Виведе: None, бо є тільки 2 'a'

result = re.search(r'a{3}', 'aaa')
print(result.group())  # Виведе: 'aaa', бо є рівно 3 'a'

result = re.search(r'a{3}', 'aaaa')
print(result.group())  # Виведе: 'aaa', бо квантифікатор шукає рівно 3 символи 'a'
```

a{3} шукає рівно 3 символи a. Навіть якщо в рядку більше символів, буде знайдено тільки 3.

`{n,}` — не менше n повторень

Цей квантифікатор означає, що символ має зустрічатися принаймні n разів, але може і більше.

Приклад:
```python
import re

# Шукає принаймні три символи 'a'
result = re.search(r'a{3,}', 'aa')
print(result)  # Виведе: None, бо є тільки 2 'a'

result = re.search(r'a{3,}', 'aaa')
print(result.group())  # Виведе: 'aaa', бо є рівно 3 'a'

result = re.search(r'a{3,}', 'aaaa')
print(result.group())  # Виведе: 'aaaa', бо є більше 3 'a'
```

a{3,} означає, що має бути принаймні 3 символи a, але допускається більше.

`{n,m}` — від n до m повторень

Цей квантифікатор визначає діапазон кількості повторень символу — мінімум n і максимум m.

Приклад:
```python
import re

# Шукає від 2 до 4 символів 'a'
result = re.search(r'a{2,4}', 'a')
print(result)  # Виведе: None, бо є тільки 1 'a'

result = re.search(r'a{2,4}', 'aa')
print(result.group())  # Виведе: 'aa', бо є 2 'a'

result = re.search(r'a{2,4}', 'aaaaa')
print(result.group())  # Виведе: 'aaaa', бо обмеження до 4 символів
```

a{2,4} означає, що має бути від 2 до 4 символів a. Якщо в рядку більше 4 символів, буде знайдено тільки перші 4.

Підсумок:
* — 0 або більше повторень.
+ — 1 або більше повторень.
? — 0 або 1 повторення.
{n} — рівно n повторень.
{n,} — не менше n повторень.
{n,m} — від n до m повторень.

Квантифікатори допомагають уточнити, скільки разів повинен зустрічатися певний елемент у рядку, щоб його можна було вважати збігом із шаблоном регулярного виразу.

## Групування та альтернативи:
`( )` — групування.

```python
re.search(r'(ab)+', 'abab')  # Знайде: 'abab'
```

`|` — або (альтернатива).

```python
re.search(r'cat|dog', 'dog')  # Знайде: 'dog'
```

## Екранізація спеціальних символів:
Якщо потрібно шукати спеціальні символи, їх треба екранувати за допомогою \.

```python
re.search(r'\.', 'www.example.com')  # Знайде: '.'
```

Практичний приклад:
```python
import re

text = "Contact us at support@example.com or sales@example.com"
emails = re.findall(r'[\w\.-]+@[\w\.-]+', text)
print(emails)  # Виведе: ['support@example.com', 'sales@example.com']
```
Цей приклад знаходить усі email-адреси в тексті.
