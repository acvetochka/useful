Захист програмного забезпечення
Це вступ до кібербезпеки від CS50.
Цього тижня розглянемо захист програмного забезпечення, яке ви використовуєте, або ПЗ, яке ви створюєте.
Минулої лекції ви дізналися про різні атаки, які можуть бути використані зловмисниками для отримання інформації від вас.
Фішинг
Ви дізналися про таку атаку як фішинг, коли зловмисник обманом змушує вас надати певну інформацію.
У вихідному коді сайту, наприклад, мовою HTML, ви можете побачити такий код:
    <p>...</p>
Зауважте, що у наведеному коді абзац починається і закінчується. Він починається стартовим тегом і завершується, відповідно, завершальним тегом.

Так само у посиланнях на вебсторінки використовують певний тип тегів, який називають тегами якоря, щоби перенаправляти користувачів з однієї вебсторінки на іншу.
Такий код виглядає так:
    <a href="https://harvard.edu">Harvard</a>
Зверніть увагу, що цей код є тегом-якорем, який дозволяє користувачеві натиснути на слово «Harvard» і перейти на harvard.edu.

На справжній вебсторінці ви зможете навести курсор миші на таке посилання і побачити, куди воно вас спрямує.
Зловмисники можуть спробувати скористатися вашою неуважністю та запевняти, що ви переходите на одну вебсторінку, тоді як насправді ви переходите на іншу. Наприклад, зловмисник може використати такий код:
<a href="https://yale.edu">https://harvard.edu</a>
Зауважте, що цей код є тегом якоря: коли користувач натискає на https://harvard.edu, він насправді переходить на yale.edu. Відповідно, користувач думатиме, що він натискає на посилання Гарварда, а перейде на сайт Єльського університету.

Уявіть, як саме ця схема може бути використана зловмисниками, щоб змусити вас думати, що ви відкриєте один вебсайт, тоді як насправді перейдете на інший.
Зловмисники часто створюють фейкові версії сторінок з єдиною метою - змусити користувачів вводити на них конфіденційну інформацію. Наприклад, якщо ви були студентом Гарварду і відвідали такий фейковий вебсайт, ви можете спробувати увійти і як результат надати зловмисникам свої ім'я користувача та пароль.

Ін’єкція коду
Міжсайтове скриптування (XSS) — це тип атаки, під час якого зловмисник змушує вебсайт виконувати шкідливий код, коли користувач вводить дані.
Наприклад, в Google, коли ви шукаєте слово «кіт», зверніть увагу, як воно виглядатиме на екрані в іншому місці, а саме скільки є результатів за цим запитом. Уявіть, що зловмисник, який хоч трохи обізнаний щодо інтернету, може вставити код як вхідні дані, та обдурити вебсайт, тобто змусити його виконати такий код.
Приміром, розгляньмо такий код (його можна вставити в пошуковий рядок):
<script>alert('attack')/<script>
Зауважте, як саме цей скрипт відображає повідомлення з написом «атака». Хоча вебсайт Google не виводить таке повідомлення з міркувань безпеки, це наочно демонструє те, що може спробувати зробити зловмисник.

Якщо вебсайт сліпо копіює введені користувачем дані й виводить те, що ввів зловмисник, це і є серйозною загрозою безпеці.
Відображені атаки
Відображена атака — це атака, яка використовує те, як вебсайти приймають вхідні дані, щоби змусити браузер користувача надіслати запит на інформацію, яка спричинить атаку.
Скажімо, користувача можна змусити натиснути на посилання, структуроване таким чином:
<a href="https://www.google.com/search?q=%3Cscript%3Ealert%28%27attack%27%29%3C%2Fscript%3E">cats</a>
Зауважте, що це посилання використовує описаний вище сценарій: якщо користувач натисне на нього, побачить сповіщення про атаку на своєму екрані.

Користувач наче обманює власний веббраузер та змушує його відображати сповіщення про атаку.
Збережені атаки
Вебсайт може бути вразливим до атаки, під час якої його змушують зберігати шкідливий код.
Насправді надіслати шкідливий код можна й електронною поштою. Якщо поштовий провайдер сліпо приймає будь-який надісланий йому код, будь-яка людина, яка отримає шкідливий код, може стати жертвою атаки.

Екранування символів
Сервіси використовують екранування символів як метод захисту від таких атак. Програмне забезпечення повинно екранувати потенційно небезпечні символи, які виглядають як загальновідомі в програмуванні.
Наприклад, код, подібний до наведеного
<p>About 6,420,000,000 <script>alert('attack')</script></p>
буде виведено захищеним ПЗ як

<p>About 6,420,000,000 &lt;script&gt;alert('attack')&lt;/script&gt;</p>
Виглядає складнувато, однак зауважте, що &lt; використовують, щоби приховати символи, потенційно небезпечні для програмного забезпечення. Завдяки цьому шкідливий код перетворюється на рядок тексту.

Найчастіше екранують такі символи:
<, тобто знак менше, «<»
>, тобто знак більше, «>»
&, тобто амперсанд, «&»
", тобто подвійні лапки, «"»
', тобто одинарні лапки або апостроф
Заголовки HTTP
Як ви вже знаєте, заголовки HTTP є додатковими вказівками для браузера.
Розгляньмо такий заголовок:
Content-Security-Policy: script-src https://example.com/
Зауважте, що наведена вище політика безпеки в заголовку вебсайту дозволить завантажувати Javascript тільки окремими файлами, які зазвичай закінчуються на .js. Відповідно, коли діє ця політика безпеки, браузер не буде виконувати теги <script> в заголовку HTML.

Так само наведений нижче заголовок дозволить використання CSS тільки з файлів .css:
Content-Security-Policy: style-src https://example.com/
Зауважте, що style-src вказує на те, що буде дозволено лише CSS, завантажений з файлу .css.
