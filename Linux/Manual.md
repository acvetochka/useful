# Команди для отримання довідки

## Menu

1. [man](#man)
2. [info](#info)
3. [help](#help)
4. [apropos](#apropos)
5. [whatis](#whatis)
6. [which and whereis](#which-and-whereis)
7. [locate](#locate)
8. [mandb](#mandb)
9. [type](#type)


## man
Команда man (від англ. manual) — це стандартний інструмент Linux для перегляду електронних довідок та документації безпосередньо в терміналі. 

**Основний синтаксис**

  ```bash
  man [параметри] [розділ] <назва_команди>
  ```

**Як читати man-сторінки**

Після введення команди (наприклад, `man ls`), відкриється сторінка, якою можна керувати за допомогою клавіатури:
- Стрілки вгору/вниз або j/k: Прокрутка тексту.
- Пробіл: Прокрутка на одну сторінку вперед.
- b: Перехід на сторінку вгору (back).
- Home/End: В початок або кінець документа.
- /: Пошук слова в тексті (після символу введіть слово і натисніть Enter).
- n: Перейти до наступного знайденого слова.
- N: Попередній результат пошуку.
- h: Довідка по клавішах навігації.
- q: Вихід з режиму перегляду.
  
**Розділи документації**

Документація розділена на секції, щоб розрізняти команди оболонки, системні виклики та файли конфігурації: 
- Розділ 1: Користувацькі команди (наприклад, ls, mkdir).
- Розділ 2: Системні виклики (функції ядра).
- Розділ 3: Бібліотечні функції (мова C).
- Розділ 4: Спеціальні файли (пристрої в /dev).
- Розділ 5: Формати конфігураційних файлів (наприклад, /etc/passwd).
- Розділ 8: Команди системного адміністрування (тільки для root). 

Приклад звернення до конкретного розділу: man 5 passwd покаже довідку про структуру файлу паролів, а не про команду для їх зміни.

**Корисні ключі та команди**
- `man -k <слово>`: Шукає команди, що містять вказане слово в описі (аналог команди apropos).
- `man -f <команда>`: Показує короткий опис команди та розділи, у яких вона доступна (аналог whatis).
- `man -a <команда>`: Показує послідовно всі доступні розділи для вказаної назви.
- `man -w <команда>`: Виводить шлях до файлу сторінки посібника на диску.
- `-P` - програма пейджера для перегляду
  <details>
    <summary>Детальніше про пейджери + налаштування кольору</summary>
   
    Опція `-P` (велика P) у команді man дозволяє вказати, яку саме програму-переглядач (pager) використовувати для відображення посібника.

    1. Опція -P (Pager)
    
    За замовчуванням man використовує системний пейджер (зазвичай less). За допомогою -P ви можете це змінити для одного виклику.
    
    Синтаксис: `man -P <назва_програми> <команда>`
    
    Приклад: `man -P cat ls` — виведе весь текст посібника в термінал відразу, без можливості гортання (зручно для копіювання великих шматків тексту).
    
    Пріоритет: Ця опція має вищий пріоритет, ніж змінні середовища $MANPAGER або $PAGER.
    
     Less та  More: Це дві найпопулярніші програми для читання тексту, що не вміщується на один екран.
    
     Які ще є альтернативи (Pager)?
    Крім стандартних, ви можете використовувати інші інструменти для відображення довідки:
    1) `most`:
       - Головна перевага — підтримка кольорів "з коробки" та можливість розбивати екран на кілька вікон.
       - Використання: man -P most grep.
       - Документація most на Ubuntu Manpages.
    
    2) `view` (Vim у режимі читання):
       - Дозволяє використовувати всі потужні потужності пошуку та навігації Vim для читання man-сторінок.
       - Використання: man -P view ls.
    
    3) `bat` (Сучасна заміна cat):
       - Підсвічує синтаксис, показує номери рядків та має інтеграцію з Git.
       - Використання: man -P "bat -l man" ls.
       - Проєкт bat на GitHub.
      
    4) Текстові браузери (lynx, w3m):
       - Якщо сторінка man відформатована в HTML, їх можна використовувати для перегляду.

    Порівняння

    | Особливість	| more	| less |	most	| view (Vim)	| bat |
    | ----------- | ------ | ---- | -----| ---------- | -----| 
    | Навігація	| Тільки вперед |	Вперед і назад	| Вперед, назад, вбік (горизонтально)	| Повна свобода (Vim-стиль) |	Вперед і назад |
    | Кольори	 | Відсутні	 | Через змінні середовища	 | Вбудовані (автоматично)	| Повна підсвітка синтаксису	| Advanced (з номерами рядків)|
    | Пошук |	Лише вперед	| В обох напрямках	| В обох напрямках	| Потужний (Regex)	| В обох напрямках |
    | Робота з вікнами	| Ні	| Ні	| Так (можна ділити екран)	| Так (вкладки та спліт)	| Ні |
    | Швидкість	| Повільна на великих файлах	| Миттєва (не вантажить весь файл) | 	Швидка	| Залежить від розміру файлу	| Швидка |
    | Головна фішка	| Мінімалізм (є всюди)	| Золотий стандарт	| Робота з кількома файлами	| Можна перейти в режим редагування | Інтеграція з Git та кодом |
  
    **Порада для зручності**
  
    Якщо ви хочете, щоб man завжди відкривався, наприклад, через most, додайте це у свій ~/.bashrc:
    ```bash
    export MANPAGER="most"
    ```
    2. Як увімкнути кольори в стандартному less (без встановлення most)
       
    Якщо ви не хочете встановлювати додаткові програми, можна змусити стандартний less підсвічувати жирний текст та підкреслення кольорами. Для цього додайте ці змінні у свій файл ~/.bashrc:
    ```bash
    export LESS_TERMCAP_mb=$'\E[01;31m'      # Початок блимання (червоний)
    export LESS_TERMCAP_md=$'\E[01;38;5;74m' # Початок жирного тексту (блакитний)
    export LESS_TERMCAP_me=$'\E[0m'           # Кінець жирного/блимання
    export LESS_TERMCAP_se=$'\E[0m'           # Кінець виділення
    export LESS_TERMCAP_so=$'\E[38;5;246m'    # Початок виділення (сірий фон)
    export LESS_TERMCAP_ue=$'\E[0m'           # Кінець підкреслення
    export LESS_TERMCAP_us=$'\E[04;38;5;146m' # Початок підкреслення (фіолетовий)
    ```
    
    Після додавання виконайте `source ~/.bashrc`. Тепер звичайний man ls буде кольоровим. Більше про налаштування кольорів можна знайти на Arch Wiki.
    
    3. Альтернатива: перегляд через bat
       
    Якщо ви хочете справді сучасний вигляд із підсвіткою синтаксису, спробуйте bat:
    ```bash
    # Встановлення (на Ubuntu): sudo apt install bat
    man -P "batcat -l man" ls
    ```
    (Примітка: в Ubuntu команда називається batcat, в інших системах просто bat).
    
  </details>

**Структура сторінки посібника**
- `NAME`: Назва команди та короткий опис.
- `SYNOPSIS`: Шаблон використання (аргументи, опції).
- `DESCRIPTION`: Детальний опис роботи програми.
- `OPTIONS`: Список усіх доступних прапорців та їх значення.
- `EXAMPLES`: Приклади використання (найкорисніша частина для новачків).

**Спеціальні випадки**
- `man man`: Викликати мануал самого мануалу. Найкращий спосіб дізнатися більше опцій.
- Кольоровий вивід: Більшість сучасних Linux-систем автоматично виділяють кольором ключі (-l, -a) та заголовки.
- Вивід у файл: Ви можете зберегти мануал у файл (наприклад, PDF):
  
  ```bash
  man -Tpdf <команда> > documentation.pdf
  ```

  [Назад до Меню](#menu)

## info

   Info — Гіпертекстовий посібник

Якщо man — це цифрова книга, то info — це вебсайт всередині термінала. Вона містить набагато детальнішу інформацію (особливо для інструментів проєкту GNU, як-от gcc або sed).

Синтаксис: `info <команда>`

**Гарячі клавіші всередині:**
- Стрілки — навігація по тексту.
- Enter — перейти за посиланням (посилання позначені зірочкою *).
- n (Next) — перейти до наступного вузла (розділу).
- p (Previous) — повернутися до попереднього вузла.
- u (Up) — піднятися на один рівень ієрархії вгору.
- l (Last) — повернутися до останнього переглянутого вузла.
- q — вихід.

Офіційна довідка: GNU Info Manual.

  [Назад до Меню](#menu)

## help

HELP — Внутрішня довідка Shell

Важливо розуміти: команди бувають зовнішні (файли в /bin/) та внутрішні (частина оболонки Bash). man не завжди знає про внутрішні, тому використовується help.

**Синтаксис:** `help <команда>` (наприклад, help cd, help alias).

**Опції:**
- `help -d <команда>` — вивести лише короткий опис (один рядок).
- `help -m <команда>` — вивести довідку у форматі, схожому на man-сторінки.
- `help -s <команда>` — показати лише синтаксис написання.

  [Назад до Меню](#menu)

## apropos

APROPOS — Пошук за змістом

Використовується, коли ви знаєте "що" треба зробити, але не знаєте "як" називається команда. Вона шукає слово в коротких описах усіх сторінок man.

**Синтаксис:** `apropos <ключове_слово>`

**Опції:**
- `apropos -r <регулярний_вираз>` — пошук за шаблоном.
- `apropos -a <слово1> <слово2>` — виведе тільки ті команди, де зустрічаються обидва слова одночасно.

Порада: Якщо apropos нічого не знаходить, можливо, база даних застаріла. Оновіть її командою sudo mandb.

  [Назад до Меню](#menu)

## whatis

WHATIS — Миттєва ідентифікація

Якщо вам ліньки читати весь man, whatis витягне тільки заголовок.

**Синтаксис:** `whatis <команда>`

**Приклад:** 
  ```bash
  whatis chmod
  #вивід
  #chmod (1) - change file mode bits.
  ```

Важливо: Вона працює лише з точними назвами команд.

  [Назад до Меню](#menu)
  
## which and whereis

WHICH та WHEREIS — Пошук шляхів

Ці команди відповідають на питання: "Де цей файл лежить фізично?".

`WHICH`: Показує шлях до виконуваного файлу, який спрацює, якщо ви введете назву команди.
```bash
which ls -> /usr/bin/ls.
```

Корисно для перевірки версій програм (наприклад, який саме python зараз активний).

`WHEREIS`: Ширший пошук. Знаходить бінарний файл, вихідний код і сторінку man.
```bash
whereis python
```
 -> покаже всі шляхи, включаючи `/usr/share/man/man1/python.1.gz.`

  [Назад до Меню](#menu)
  
## locate

LOCATE — Швидкий пошук у системі

На відміну від find, яка "прочісує" диски в реальному часі, locate дивиться у свою базу даних. Це миттєво, але база оновлюється зазвичай раз на добу.

**Синтаксис:** `locate <назва_файлу>`

**Ключові опції:**
- `locate -i` — ігнорувати регістр (великі/малі літери).
- `locate -n <число>`— обмежити кількість результатів (наприклад, перші 10).
- `locate -e` — виводити тільки ті файли, які існують у системі на цей момент (якщо їх видалили після оновлення бази).

  [Назад до Меню](#menu)
  
## mandb

MANDB — Адміністратор документації

Це утиліта для обслуговування. Вона створює та оновлює індексні бази даних, які використовують apropos та whatis.

**Синтаксис:** `sudo mandb`

Коли використовувати: Після встановлення нового ПЗ вручну або якщо apropos видає порожній результат.

  [Назад до Меню](#menu)
  
## type

TYPE — Глибока перевірка

Допомагає зрозуміти "сутність" команди.

- `type cd` -> скаже, що це `shell builtin`.
- `type ls` -> часто показує `ls is aliased to 'ls --color=auto'`.
- `type -a <команда>` — покаже всі місця, де є така команда (і в оболонці, і як файл).

Для ознайомлення з першоджерелами рекомендую Linux Documentation Project (TLDP) — це золотий стандарт англомовної документації.

  [Назад до Меню](#menu)

## Переклад довідки (на прикладі української мови)

Інструкція з налаштування та використання української довідки:

1. Встановлення пакетів перекладу

Для того, щоб система мала звідки брати українські тексти, потрібно встановити відповідні мовні пакети. 
- Для Ubuntu/Debian:
  ```bash
  sudo apt update
  sudo apt install language-pack-uk manpages-uk
  ```

- Для Arch Linux:
  ```bash
  sudo pacman -S man-pages-uk
  ```

2. Як відкрити man-сторінку саме українською
Навіть якщо пакет встановлено, система може продовжувати відкривати англійську версію через налаштування локалі. Щоб примусово відкрити сторінку українською, використовуйте прапор -L: 
  ```bash
  man -Luk ls
  ```

Або задайте мовну змінну лише для одного виклику:
  ```bash
  LANG=uk_UA.UTF-8 man ls
  ```

3. Налаштування української мови як основної
Якщо ви хочете, щоб усі команди (де є переклад) завжди розмовляли з вами українською, потрібно змінити змінні середовища у вашому профілі (наприклад, у файлі ~/.bashrc): 
- Відкрийте файл: `nano ~/.bashrc`
- Додайте в кінець: `export LANG=uk_UA.UTF-8`
- Оновіть сесію: `source ~/.bashrc`
  
**Що саме буде українською?**
- `man`: Інтерфейс самої програми та перекладені сторінки (наприклад, man ls, man cp, man bash часто мають переклади).
- `help`: Якщо ваша оболонка (Bash) локалізована, вивід help cd також буде українською.
- `apropos / whatis`: Описи будуть українською лише для тих команд, чиї man-сторінки вже перекладено.
- `--help`: Багато сучасних утиліт (наприклад, git, apt) мають вбудовану локалізацію, яка підтягується автоматично після встановлення language-pack-uk. 

**Корисні ресурси**
- [Ukrainian translation of man pages](https://manpages-l10n-e34070.pages.debian.net/index-uk.html) — офіційний репозиторій перекладів для Debian/Ubuntu, де можна перевірити стан готовності довідок.
- [Linux.org.ua](https://linux.org.ua/) — українська спільнота, де обговорюються питання локалізації. 

Важливо: Оскільки Linux розвивається швидше, ніж волонтери встигають перекладати документацію, технічні сторінки (секції 2 та 3 — системні виклики та бібліотеки C) зазвичай залишаються англійською.
